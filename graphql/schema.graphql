scalar AWSTime
scalar AWSDateTime
scalar AWSTimestamp
scalar AWSEmail
scalar AWSJSON
scalar AWSURL
scalar AWSPhone
scalar AWSIPAddress

directive @aws_subscribe(mutations: [String!]!) on FIELD_DEFINITION
directive @aws_auth(cognito_groups: [String!]!) on FIELD_DEFINITION
directive @aws_api_key on FIELD_DEFINITION | OBJECT
directive @aws_iam on FIELD_DEFINITION | OBJECT
directive @aws_oidc on FIELD_DEFINITION | OBJECT
directive @aws_cognito_user_pools(
  cognito_groups: [String!]
) on FIELD_DEFINITION | OBJECT

type Mutation {
    createGame(input: CreateGameInput!): Game! @aws_cognito_user_pools
    joinGame(input: JoinGameInput!): Game! @aws_cognito_user_pools
}

type Query {
    getGame(id: ID!): Game! @aws_cognito_user_pools
    getGames: [PlayerSheetSummary!] @aws_cognito_user_pools
}

input CreateGameInput {
    name: String!
    description: String
}

input JoinGameInput {
  gameId: ID!
  joinToken: ID!
}

type Game @aws_cognito_user_pools {
  gameId: ID!
  gameName: String!
  gameDescription: String
  publicNotes: String
  fireflyUserId: ID!
  players: [ID!]
  joinToken: String
  createdAt: AWSDateTime!
  updatedAt: AWSDateTime!
  type: String!
}

type PlayerSheetSummary @aws_cognito_user_pools {
  gameId: ID!
  gameName: String!
  gameDescription: String!
  type: String!
}
